basePath: /
consumes:
  - application/json
definitions:
  BadInput:
    properties:
      fields:
        items:
          $ref: '#/definitions/field'
        type: array
        x-go-name: Fields
    type: object
    x-go-package: github.com/alexandr-io/berrors
  User:
    description: User defines the structure for an API user
    properties:
      auth_token:
        description: The authentication token of this user. Valid for 15 minutes.
        example: eyJhb[...]FYqf4
        type: string
        x-go-name: AuthToken
      email:
        description: The email address of this user
        example: john@provider.net
        type: string
        x-go-name: Email
      refresh_token:
        description: The refresh token of this user. Valid for 30 days. Used to get a new auth token.
        example: eyJhb[...]FYqf4
        type: string
        x-go-name: RefreshToken
      username:
        description: The username of this user
        example: john
        type: string
        x-go-name: Username
    required:
      - username
      - email
    type: object
    x-go-package: github.com/alexandr-io/backend/user/data
  field:
    properties:
      name:
        type: string
        x-go-name: Name
      reason:
        type: string
        x-go-name: Reason
    type: object
    x-go-package: github.com/alexandr-io/berrors
info:
  description: Documentation for the User microservice REST API
  title: Documentation of User API
paths:
  /:
    get:
      description: Get the information about a user
      operationId: get_user
      responses:
        "200":
          $ref: '#/responses/userResponse'
        "401":
          $ref: '#/responses/unauthorizedErrorResponse'
      security:
        - Bearer: []
      tags:
        - USER
    put:
      description: Get the information about a user
      operationId: update_user
      parameters:
        - description: The information to update a user
          in: body
          name: Body
          schema:
            $ref: '#/definitions/User'
      produces:
        - application/json
        - text/plain
      responses:
        "200":
          $ref: '#/responses/userResponse'
        "401":
          $ref: '#/responses/unauthorizedErrorResponse'
      security:
        - Bearer: []
      tags:
        - USER
produces:
  - application/json
responses:
  badRequestErrorResponse:
    description: A bad request error response
    schema:
      $ref: '#/definitions/BadInput'
  unauthorizedErrorResponse:
    description: An unauthorized error response
    examples:
      text/plain: Unauthorized
  userResponse:
    description: User data with auth and refresh token
    schema:
      $ref: '#/definitions/User'
schemes:
  - http
securityDefinitions:
  Bearer:
    description: |
      The documentation of authentification Bearer token can be found in the <a href="http://auth.preprod.alexandrio.cloud/docs" target="_blank">auth microservice doc page</a>.
    in: header
    name: Bearer
    type: Bearer
swagger: "2.0"
